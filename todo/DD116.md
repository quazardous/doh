# DD116 - Documentation Architecture Reorganization

**Status**: 🟡 PROPOSED  
**Priority**: HIGH  
**Dependencies**: None  
**Epic**: EDD117 (Documentation Organization)

**OBJECTIVE**: Split monolithic `docs/` directory into `docs/runtime/` for user documentation and `docs/dev/` for
developer documentation with clear INDEX.md navigation.

## Current State Analysis

### Documentation Audit (2025-08-30)

**Current `docs/` contents** (mixed runtime/dev concerns):

```
docs/
├── linting-architecture.md        # DEV - Linting system architecture
├── shared-libraries.md           # DEV - Script utilities documentation
├── ARCHITECTURE.md               # DEV - System architecture
├── QUICK-REFERENCE.md            # Runtime - User quick reference
├── exception-handling.md         # DEV - Error handling patterns
├── markdown-quality-control.md   # Runtime - Writing guidelines
├── mk-ai.md                     # Runtime - AI command documentation
├── agent-context-protocol.md    # DEV - AI agent patterns
├── ai-context-rules.md          # DEV - AI development rules
├── architecture.md              # DEV - Old architecture doc
├── commands.md                  # Runtime - Command documentation
├── config-design-analysis.md    # DEV - Configuration analysis
├── config-format-comparison.md  # DEV - Format comparison
├── data-structure-analysis.md   # DEV - Data structure design
├── ini-bash-compatibility.md    # DEV - Technical compatibility
├── markdown-style-guide.md      # Runtime - Style guidelines
├── memory-system.md             # DEV - Cache and memory systems
├── path-resolution-guide.md     # DEV - Path handling patterns
├── pattern-isolation-guide.md   # DEV - Pattern isolation
├── project-isolation-guide.md   # DEV - Project separation
├── scripting-language-analysis.md # DEV - Language choice analysis
├── tool-availability-analysis.md  # DEV - Tool availability
├── workflow-examples.md         # Runtime - Usage examples
├── workflow-patterns.md         # Runtime - Usage patterns
└── worktree-strategy.md         # DEV - Git worktree strategy
```

## Proposed Organization Structure

### New Structure (Runtime + Dev)

```
docs/
├── INDEX.md                   # Main documentation index/navigation
├── runtime/                   # User documentation
│   ├── INDEX.md              # Runtime documentation navigation
│   ├── quick-reference.md    # User quick reference
│   ├── commands.md           # Command documentation
│   ├── mk-ai.md              # AI command guide
│   ├── markdown-style-guide.md # Writing guidelines
│   ├── markdown-quality-control.md # Quality standards
│   ├── workflow-examples.md  # Usage examples
│   └── workflow-patterns.md  # Usage patterns
└── dev/                       # Developer documentation (FLAT STRUCTURE)
    ├── INDEX.md              # Dev documentation navigation
    ├── system-architecture.md # Main system architecture
    ├── linting-architecture.md # Linting system architecture
    ├── data-structures.md     # Data structure design
    ├── exception-handling.md  # Error handling patterns
    ├── shared-libraries.md    # Script utilities documentation
    ├── path-resolution.md     # Path handling guides
    ├── worktree-strategy.md   # Git worktree strategy
    ├── config-design.md       # Configuration analysis
    ├── config-formats.md      # Format comparison analysis
    ├── scripting-languages.md # Language choice analysis
    ├── tool-availability.md   # Tool availability analysis
    ├── agent-context-protocol.md # AI agent patterns
    ├── context-rules.md       # AI development rules
    ├── memory-systems.md      # Cache and memory systems
    ├── pattern-isolation.md   # Pattern isolation guide
    ├── project-isolation.md   # Project separation guide
    └── compatibility.md       # Compatibility patterns
```

## Implementation Plan

### Phase 1: Create New Structure (HIGH PRIORITY)

**Create directory structure and index files**:

- [ ] Create `docs/INDEX.md` - Main documentation navigation
- [ ] Create `docs/runtime/` directory
- [ ] Create `docs/runtime/INDEX.md` - Runtime documentation navigation
- [ ] Create `docs/dev/` directory
- [ ] Create `docs/dev/INDEX.md` - Developer documentation navigation

### Phase 2: Move User Documentation to Runtime (MEDIUM PRIORITY)

**User-facing documentation to docs/runtime/**:

- [ ] `QUICK-REFERENCE.md` → `docs/runtime/quick-reference.md`
- [ ] `commands.md` → `docs/runtime/commands.md`
- [ ] `mk-ai.md` → `docs/runtime/mk-ai.md`
- [ ] `markdown-style-guide.md` → `docs/runtime/markdown-style-guide.md`
- [ ] `markdown-quality-control.md` → `docs/runtime/markdown-quality-control.md`
- [ ] `workflow-examples.md` → `docs/runtime/workflow-examples.md`
- [ ] `workflow-patterns.md` → `docs/runtime/workflow-patterns.md`

### Phase 3: Move Developer Documentation (MEDIUM PRIORITY)

**All developer documentation to flat docs/dev/ structure**:

- [ ] `ARCHITECTURE.md` → `docs/dev/system-architecture.md`
- [ ] `linting-architecture.md` → `docs/dev/linting-architecture.md`
- [ ] `data-structure-analysis.md` → `docs/dev/data-structures.md`
- [ ] `shared-libraries.md` → `docs/dev/shared-libraries.md`
- [ ] `exception-handling.md` → `docs/dev/exception-handling.md`
- [ ] `path-resolution-guide.md` → `docs/dev/path-resolution.md`
- [ ] `worktree-strategy.md` → `docs/dev/worktree-strategy.md`
- [ ] `config-design-analysis.md` → `docs/dev/config-design.md`
- [ ] `config-format-comparison.md` → `docs/dev/config-formats.md`
- [ ] `scripting-language-analysis.md` → `docs/dev/scripting-languages.md`
- [ ] `tool-availability-analysis.md` → `docs/dev/tool-availability.md`
- [ ] `agent-context-protocol.md` → `docs/dev/agent-context-protocol.md`
- [ ] `ai-context-rules.md` → `docs/dev/context-rules.md`
- [ ] `memory-system.md` → `docs/dev/memory-systems.md`
- [ ] `pattern-isolation-guide.md` → `docs/dev/pattern-isolation.md`
- [ ] `project-isolation-guide.md` → `docs/dev/project-isolation.md`
- [ ] `ini-bash-compatibility.md` → `docs/dev/compatibility.md`

### Phase 4: Handle Legacy Content (LOW PRIORITY)

**Remove deprecated documentation**:

- [ ] Delete `architecture.md` (old/outdated)

### Phase 5: Update References (HIGH PRIORITY)

**Update all file references across codebase**:

- [ ] **Update DEVELOPMENT.md** - Update all docs/ path references to new structure
- [ ] **Update README.md** - Update any documentation references if present
- [ ] Update internal documentation links to new paths
- [ ] Update command documentation references
- [ ] Update .claude/context references if any
- [ ] Search and replace old paths in all markdown files

## Benefits of New Structure

### User Experience

- **Clear navigation** - `docs/INDEX.md` provides main entry point
- **Focused runtime docs** - All user documentation in `docs/runtime/`
- **Clean separation** - No developer technical details mixed with user docs
- **Professional organization** - Runtime docs have dedicated space with INDEX.md

### Developer Experience

- **Simple flat structure** - All dev docs in single `docs/dev/` directory
- **Easy browsing** - No subdirectory navigation required
- **Clear naming** - Descriptive filenames indicate content type
- **Comprehensive navigation** - `docs/dev/INDEX.md` provides organized access

### Project Benefits

- **Clear structure** - `docs/runtime/` and `docs/dev/` with dedicated navigation
- **Professional organization** - Industry-standard runtime/development separation
- **INDEX.md navigation** - Better than README.md for documentation navigation
- **Scalability** - Room for growth in both runtime and development documentation

## Implementation Considerations

### Link Updates Required

**High Impact Files** (many internal links):

- Main README.md files
- DEVELOPMENT.md
- CLAUDE.md
- Command documentation

**Medium Impact Files** (some links):

- Individual documentation files cross-referencing
- Architecture documentation with internal links

**Low Impact Files** (few links):

- Analysis and pattern files (mostly standalone)

### Backward Compatibility

**Temporary Approach**:

1. Move files to new structure
2. Create symbolic links from old locations (if needed)
3. Phase out old references over time
4. Remove symbolic links after full transition

### Testing Strategy

**Verification Steps**:

1. Verify all moved files are accessible
2. Test internal links in documentation
3. Verify command documentation still works
4. Check that READMEs provide clear navigation
5. Validate no broken references in codebase

## Success Criteria

- [ ] **Clear separation** between runtime and developer documentation
- [ ] **Logical organization** within developer documentation by domain
- [ ] **Complete index files** with navigation in each directory
- [ ] **All internal links updated** to use new paths
- [ ] **No broken references** in moved documentation
- [ ] **Improved discoverability** of documentation by audience and topic

## Risk Assessment

### **MEDIUM RISK - Structural Change**

**Risks**:

- ⚠️ **Link breakage** - Internal documentation links may break
- ⚠️ **Reference updates** - Need to find and update all path references
- ⚠️ **User confusion** - Temporary disruption during transition

**Mitigation**:

- ✅ **Systematic approach** - Move and update in phases
- ✅ **Verification testing** - Check all links after moves
- ✅ **Clear indexing** - Comprehensive README files for navigation
- ✅ **Rollback plan** - Can reverse moves if major issues found

## Notes

**Strategic Value**: This reorganization aligns documentation structure with the project's dual nature (DOH Runtime for
users, DOH-DEV for internal development) and provides a foundation for scalable documentation management.

**Timing**: Should be done after major architectural changes are complete to minimize reference update churn.
