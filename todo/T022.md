### T022 - DOH System Self-Hosting Project ðŸš©ðŸš©

**Status**: Proposed  
**Priority**: CRITICAL - Foundation for distribution and testing  
**Dependencies**: T013 (completed), T018 (completed), T026 (restructure)  
**Proposed Version**: 1.4.0

Create the DOH system as its own standalone project that uses DOH to manage its own development (self-hosting), with
comprehensive testing framework and proper distribution architecture.

**Impact**: DOH currently lives inside another project. Creating DOH as its own project enables proper distribution
(T003), serves as reference implementation, and provides isolated testing environment. The DOH system should "eat its
own dog food" by using DOH to manage DOH development.

**Tasks**:

- [ ] Design standalone DOH project architecture with subfolders
- [ ] Create testing framework structure (unit, integration, e2e, performance)
- [ ] Set up DOH core system folders (bin/, lib/, scripts/, tests/, docs/)
- [ ] Implement DOH installer/uninstaller scripts
- [ ] Copy and reorganize current DOH components from existing project
- [ ] Initialize DOH within DOH project (meta-initialization)
- [ ] Create DOH development epics (Core, Testing, Distribution, Documentation)
- [ ] Migrate existing TODO items to proper DOH tasks
- [ ] Set up test harness with multiple test projects
- [ ] Create CI/CD friendly test runner
- [ ] Build distribution packaging system
- [ ] Implement version management and release process

**Architecture Proposal**:

```text
doh-system/
â”œâ”€â”€ .doh/             # RESERVED - Only for production DOH self-management
â”‚   â””â”€â”€ (initialized only when DOH is ready for production use)
â”œâ”€â”€ bin/              # Executable scripts
â”‚   â”œâ”€â”€ doh-init
â”‚   â”œâ”€â”€ doh-admin
â”‚   â””â”€â”€ doh
â”œâ”€â”€ lib/              # Core libraries
â”‚   â”œâ”€â”€ doh.sh
â”‚   â”œâ”€â”€ doh-config.sh
â”‚   â””â”€â”€ doh-wrappers.sh
â”œâ”€â”€ scripts/          # Utility scripts
â”‚   â”œâ”€â”€ performance/
â”‚   â”œâ”€â”€ migration/
â”‚   â””â”€â”€ utilities/
â”œâ”€â”€ tests/            # Comprehensive test suite
â”‚   â”œâ”€â”€ unit/         # Unit tests
â”‚   â”œâ”€â”€ integration/  # Integration tests
â”‚   â”œâ”€â”€ e2e/         # End-to-end tests
â”‚   â”œâ”€â”€ performance/ # Performance benchmarks
â”‚   â”œâ”€â”€ fixtures/    # Test fixtures and data
â”‚   â””â”€â”€ projects/    # Test projects (NEVER use .doh in tests!)
â”‚       â”œâ”€â”€ minimal/ # Minimal test project
â”‚       â”‚   â””â”€â”€ test-data/ # Test data instead of .doh
â”‚       â”œâ”€â”€ standard/ # Standard test project
â”‚       â”‚   â””â”€â”€ test-data/ # Test data instead of .doh
â”‚       â””â”€â”€ complex/ # Complex test project
â”‚           â””â”€â”€ test-data/ # Test data instead of .doh
â”œâ”€â”€ templates/       # DOH templates
â”‚   â”œâ”€â”€ epics/
â”‚   â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ skeleton/
â”œâ”€â”€ docs/            # Documentation
â”‚   â”œâ”€â”€ api/         # API documentation
â”‚   â”œâ”€â”€ guides/      # User guides
â”‚   â””â”€â”€ architecture/ # System architecture
â”œâ”€â”€ install.sh       # Installation script
â”œâ”€â”€ uninstall.sh     # Uninstallation script
â””â”€â”€ Makefile         # Build/test automation
```

**Testing Framework Features**:

- **Test Projects**: Multiple preconfigured test projects in tests/projects/
- **Test Data Isolation**: Use test-data/ folders, NEVER .doh/ in tests
- **Mock DOH Structure**: Simulate DOH behavior without using .doh directory
- **Fixture Management**: Reusable test data and configurations
- **Performance Baselines**: Track performance regression
- **Cross-Environment**: Test on different shells, OS, filesystems
- **Coverage Reporting**: Measure test coverage of bash scripts
- **CI/CD Integration**: GitHub Actions, GitLab CI ready
- **Isolated Testing**: Each test runs in clean environment
- **Temporary Test Dirs**: Use /tmp for actual .doh testing when needed

**Distribution Features**:

- **Single Command Install**: `curl -sSL https://get.doh.dev | bash`
- **Package Managers**: Support for apt, yum, brew, npm
- **Portable Archive**: tar.gz with all dependencies
- **Version Management**: Semantic versioning with upgrade path
- **Dependency Checking**: Verify jq, git, bash version
- **Multi-Platform**: Linux, macOS, WSL support

**Deliverable**: Standalone DOH system project that is self-hosting, fully tested, and ready for distribution. Serves as
both the development environment for DOH and the reference implementation for DOH best practices.

---
