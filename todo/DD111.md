# DD111 - Rename Task IDs: DD Prefix for Internal, DOH Prefix for Runtime

**Status**: PROPOSED  
**Priority**: HIGH  
**Epic**: EDD098 (DOH Linting System Perfection) / EDD091 (Multi-Agent)  
**Type**: Refactoring / Architecture  
**Created**: 2025-08-30

## Objective

Implement a clear naming convention for task IDs to immediately distinguish between DOH-DEV internal development tasks and DOH runtime user-facing tasks.

## Problem Statement

Current T### numbering system doesn't immediately indicate whether a task is:
- Internal development (DOH-DEV system, /dd:* commands, developer tooling)
- Runtime features (DOH user features, public distribution, end-user functionality)

This causes confusion when scanning tasks and requires reading each file to understand its scope.

## Solution Design

### New Naming Convention

#### Tasks

**Internal DOH-DEV Tasks**:
- Format: `DD###` (e.g., DD070, DD103, DD111...)
- File: `DD070.md` (not DD070.md)
- Title: `# DD070 - Task Name` (not # DD070)
- References: "DD070" everywhere (not DD070)
- Scope: /dd:* commands, internal tooling, developer workflows

**Runtime DOH Tasks**:
- Format: `DOH###` (e.g., DOH003, DOH024, DOH069...)
- File: `DOH003.md` (not DOH003.md)
- Title: `# DOH003 - Task Name` (not # DOH003)
- References: "DOH003" everywhere (not DOH003)
- Scope: User features, public APIs, distribution

#### Epics

**Internal DOH-DEV Epics** (starting from next epic):
- Format: `EDD###` (e.g., EDD001, EDD002, EDD003...)
- Scope: Internal development initiatives, tooling improvements
- Version: VDD-x.x.x strategic goals
- Examples: EDD001-advanced-linting.md, EDD002-plugin-architecture.md

**Runtime DOH Epics** (starting from next epic):
- Format: `EDOH###` (e.g., EDOH001, EDOH002, EDOH003...)
- Scope: User feature sets, public API expansions
- Version: VDOH-x.x.x strategic goals
- Examples: EDOH001-user-workflow.md, EDOH002-api-v2.md

#### Versions

**Internal DOH-DEV Versions**:
- Format: `VDD-x.x.x` (e.g., VDD-0.1.0, VDD-0.2.0, VDD-1.0.0...)
- Current: VDD-0.1.0.md â†’ rename to VDD-0.1.0.md
- Scope: Internal tool releases, developer features
- Examples: VDD-0.2.0.md (perfect linting), VDD-0.3.0.md (plugin architecture)

**Runtime DOH Versions**:
- Format: `VDOH-x.x.x` (e.g., VDOH-1.4.0, VDOH-2.0.0...)
- Current: VDOH-1.4.0.md â†’ rename to VDOH-1.4.0.md
- Scope: Public releases, user features
- Examples: VDOH-1.4.0.md (current release), VDOH-2.0.0.md (major upgrade)

### Migration Strategy - COMPLETE MIGRATION

#### Task Migration (ALL including archived)

**DOH-DEV Internal Tasks** (DD070-DD111 range typical):
- DD070 â†’ DD070 (AI-powered linting)
- DD072 â†’ DD072 (rename /doh-dev to /dd)
- DD073 â†’ DD073 (--internal flag)
- DD103 â†’ DD103 (intelligent linting feedback)
- DD104 â†’ DD104 (refactor file organization)
- DD105 â†’ DD105 (audit orphaned commands)
- DD106 â†’ DD106 (cache performance)
- DD107 â†’ DD107 (lint error cache)
- DD108 â†’ DD108 (multi-linter optimization)
- DD109 â†’ DD109 (AI plugin system)
- DD110 â†’ DD110 (plugin testing)
- DD111 â†’ DD111 (this renaming task itself)

**DOH Runtime Tasks** (DOH001-DOH069 range typical):
- DOH001 â†’ DOH001 (initial setup)
- DOH002 â†’ DOH002 (core functionality)
- DOH003 â†’ DOH003 (build system)
- ... (all runtime-focused tasks)
- DOH069 â†’ DOH069

#### Epic Migration (ALL)

**DOH-DEV Internal Epics**:
- EDD075 â†’ EDD075 (DOH-DEV Internal System)
- EDD091 â†’ EDD091 (Multi-Agent Development)
- EDD095 â†’ EDD095 (TBD internal)
- EDD098 â†’ EDD098 (Linting System Perfection)

**DOH Runtime Epics**:
- EDOH001 â†’ EDOH001 (Core DOH System)
- EDOH074 â†’ EDOH074 (runtime epic)
- EDOH076 â†’ EDOH076 (runtime epic)
- EDOH077 â†’ EDOH077 (runtime epic)

#### Version Migration (ALL)

**Internal Versions**:
- VDD-0.1.0.md â†’ VDD-0.1.0.md
- VDD-0.2.0.md â†’ VDD-0.2.0.md
- VDD-0.3.0.md â†’ VDD-0.3.0.md

**Runtime Versions**:
- VDOH-1.4.0.md â†’ VDOH-1.4.0.md

#### Archived Files Migration

- todo/archive/T*.md â†’ Apply same DD/DOH split logic
- todo/archive/E*.md â†’ Apply same EDD/EDOH split logic

### Implementation Steps

1. **Update todo/README.md**:
   ```markdown
   ## ðŸš¨ CRITICAL: Next IDs
   
   ### Tasks
   **Next DD ID**: 123 (DOH-DEV internal tasks)
   **Next DOH ID**: 124 (DOH runtime tasks)
   **Legacy T ID**: 112 (deprecated, use DD/DOH prefixes)
   
   ### Epics
   **Next EDD ID**: 001 (DOH-DEV internal epics)
   **Next EDOH ID**: 001 (DOH runtime epics)
   **Legacy E ID**: 099 (deprecated, use EDD/EDOH prefixes)
   ```

2. **Update /dd:next command**:
   - Recognize DD### and DOH### patterns
   - Filter appropriately with --internal flag
   - DD### tasks â†’ NEXT-dd.md cache
   - DOH### tasks â†’ NEXT.md cache

3. **Update task creation workflow**:
   - When creating internal task: Use DD prefix
   - When creating runtime task: Use DOH prefix
   - Clear guidance in documentation

## Benefits

- **Instant Recognition**: DD = internal dev, DOH = user features
- **Better Filtering**: Easy grep/find patterns
- **Clear Separation**: Aligns with dd-x.x.x vs doh-x.x.x versioning
- **Improved /dd:next**: Automatic project classification
- **Team Clarity**: No confusion about task scope

## Migration Examples

```bash
# Find all internal tasks
find todo -name "DD*.md"

# Find all runtime tasks
find todo -name "DOH*.md"

# Find all internal epics
find todo -name "EDD*.md"

# Find all runtime epics
find todo -name "EDOH*.md"

# Find all internal versions
find todo -name "VDD-*.md"

# Find all runtime versions
find todo -name "VDOH-*.md"

# Legacy tasks (keep as-is)
find todo -name "T*.md"

# Legacy epics (keep as-is)
find todo -name "E[0-9]*.md"

# Complete internal development set
find todo \( -name "DD*.md" -o -name "EDD*.md" -o -name "VDD-*.md" \)

# Complete runtime set  
find todo \( -name "DOH*.md" -o -name "EDOH*.md" -o -name "VDOH-*.md" \)
```

## Success Criteria

- [ ] All task files renamed (DD070.md â†’ DD070.md, DOH003.md â†’ DOH003.md)
- [ ] All task content updated (# DD070 â†’ # DD070, # DOH003 â†’ # DOH003)
- [ ] All epic files renamed (EDD091.md â†’ EDD091.md, EDOH001.md â†’ EDOH001.md)
- [ ] All epic content updated (# EDD091 â†’ # EDD091, # EDOH001 â†’ # EDOH001)
- [ ] Version files renamed (VDD-0.1.0.md â†’ VDD-0.1.0.md, VDOH-1.4.0.md â†’ VDOH-1.4.0.md)
- [ ] All cross-references updated in all documentation
- [ ] /dd:next recognizes new patterns (DD*/DOH*/EDD*/EDOH*/VDD*/VDOH*)
- [ ] README.md updated with new conventions
- [ ] Migration script tested and executed successfully

## Notes

- **COMPLETE MIGRATION**: All existing tasks, epics, and versions will be renamed
- Migration script should handle both todo/ and todo/archive/ directories
- Provides immediate visual distinction in all lists
- Aligns with project's dual-track development (internal tools vs runtime features)
- Updates all references in documentation and commands

## Migration Script Outline

```bash
#!/bin/bash
# migrate-to-new-naming.sh

# Tasks migration - BOTH filename AND content
for file in todo/T*.md todo/archive/T*.md; do
  num=$(basename "$file" .md | sed 's/T//')
  
  if [ "$num" -ge 70 ]; then
    # Internal task - rename file
    newfile="$(dirname "$file")/DD${num}.md"
    mv "$file" "$newfile"
    # Update content: # DD070 â†’ # DD070
    sed -i "s/^# T${num}/# DD${num}/" "$newfile"
    # Update references: DD070 â†’ DD070
    sed -i "s/\bT${num}\b/DD${num}/g" "$newfile"
  else
    # Runtime task - rename file
    newfile="$(dirname "$file")/DOH${num}.md"
    mv "$file" "$newfile"
    # Update content: # DOH003 â†’ # DOH003
    sed -i "s/^# T${num}/# DOH${num}/" "$newfile"
    # Update references: DOH003 â†’ DOH003
    sed -i "s/\bT${num}\b/DOH${num}/g" "$newfile"
  fi
done

# Epics migration - BOTH filename AND content
# Internal epics
for epic in 075 091 095 098; do
  if [ -f "todo/E${epic}.md" ]; then
    mv "todo/E${epic}.md" "todo/EDD${epic}.md"
    sed -i "s/^# E${epic}/# EDD${epic}/" "todo/EDD${epic}.md"
    sed -i "s/\bE${epic}\b/EDD${epic}/g" "todo/EDD${epic}.md"
  fi
done

# Runtime epics
for epic in 001 074 076 077; do
  if [ -f "todo/E${epic}.md" ]; then
    mv "todo/E${epic}.md" "todo/EDOH${epic}.md"
    sed -i "s/^# E${epic}/# EDOH${epic}/" "todo/EDOH${epic}.md"
    sed -i "s/\bE${epic}\b/EDOH${epic}/g" "todo/EDOH${epic}.md"
  fi
done

# Versions migration
for file in todo/dd-*.md; do
  version=$(basename "$file" | sed 's/dd-/VDD-/')
  mv "$file" "todo/$version"
done

for file in todo/doh-*.md; do
  version=$(basename "$file" | sed 's/doh-/VDOH-/')
  mv "$file" "todo/$version"
done

# Update ALL cross-references in ALL files
find . -name "*.md" -exec sed -i 's/\bT0\([7-9][0-9]\|1[0-1][0-9]\)\b/DD0\1/g' {} \;
find . -name "*.md" -exec sed -i 's/\bT0\([0-6][0-9]\)\b/DOH0\1/g' {} \;
find . -name "*.md" -exec sed -i 's/\bE075\b/EDD075/g' {} \;
find . -name "*.md" -exec sed -i 's/\bE091\b/EDD091/g' {} \;
find . -name "*.md" -exec sed -i 's/\bE095\b/EDD095/g' {} \;
find . -name "*.md" -exec sed -i 's/\bE098\b/EDD098/g' {} \;
find . -name "*.md" -exec sed -i 's/\bE001\b/EDOH001/g' {} \;
# ... etc
```