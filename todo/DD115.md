# DD115 - Complete dev-tools/ Directory Migration & Cleanup

**Status**: PENDING  
**Priority**: MEDIUM  
**Dependencies**: DD113 ✅ COMPLETED, DD114 ✅ COMPLETED  
**Epic**: EDD116 (DOH Development Architecture Refactoring)

Complete the dev-tools/ directory migration by relocating remaining components and establishing final clean architecture
per DD113 principles.

## Problem Statement

After DD113 and DD114, dev-tools/ still contains several components that should be relocated according to the clean
architecture:

### **Current dev-tools/ Contents**

```text
dev-tools/
├── docs/              # Documentation (should be in ./docs/)
├── examples/          # Usage examples (keep or relocate)
├── hooks/             # Git hooks (keep - core infrastructure)
├── linters/           # Linter base configs (relocate to linting/)
└── scripts/           # Remaining scripts (assess each)
    ├── setup-dev-env.sh
    ├── lint-files.sh      # MAIN ENGINE - Keep
    └── dd-lint-wrapper.sh
```

### **DD113 Architecture Compliance Issue**

According to DD113 architecture:

- **dev-tools/** should contain **only core infrastructure** (hooks, examples)
- **Scripts** should be in `scripts/[category]/`
- **Documentation** should be in `./docs/`
- **Configurations** should be in `linting/`

## Migration Analysis

### **Files to Relocate (All dev-tools/ should be empty)**

#### **Git Hooks & Tools → scripts/git/**

```bash
# Move git hooks and git tools to proper script category
mkdir -p scripts/git/hooks/
mv dev-tools/hooks/pre-commit scripts/git/hooks/
mv dev-tools/hooks/pre-commit-new scripts/git/hooks/
mv dev-tools/hooks/install-hooks.sh scripts/git/  # Tool, not hook
rmdir dev-tools/hooks/
```

#### **Examples → contrib/examples/scripts/**

```bash
# Move examples to "cold storage" - useful for reference but not core functionality
mkdir -p contrib/examples/scripts/
mv dev-tools/examples/* contrib/examples/scripts/
rmdir dev-tools/examples/
```

#### **Main Linting Engine → scripts/linting/**

```bash
# Move main linting engine with other linting scripts
mv dev-tools/scripts/lint-files.sh scripts/linting/
```

### **Files to Relocate**

#### **1. dev-tools/docs/ → docs/**

```bash
# Move documentation to central docs/
mv dev-tools/docs/* docs/
rmdir dev-tools/docs/
```

#### **2. dev-tools/linters/ → linting/config/**

```bash
# Move base linter configs to linting infrastructure
mkdir -p linting/config/
mv dev-tools/linters/* linting/config/
rmdir dev-tools/linters/
```

#### **3. dev-tools/scripts/ Assessment**

- `lint-files.sh` - **KEEP** (main engine, core infrastructure)
- `setup-dev-env.sh` - **MOVE** to `scripts/development/`
- `dd-lint-wrapper.sh` - **MOVE** to `scripts/linting/`

## Implementation Plan

### **Phase 1: Documentation Migration**

```bash
# Move dev-tools documentation to central location
find dev-tools/docs/ -name "*.md" -exec mv {} docs/ \;
rmdir dev-tools/docs/
```

### **Phase 2: Configuration Migration**

```bash
# Move linter base configs to proper location
mkdir -p linting/config/
mv dev-tools/linters/* linting/config/
rmdir dev-tools/linters/
```

### **Phase 3: Git Hooks & Examples Migration**

```bash
# Move git hooks and tools to script category
mkdir -p scripts/git/hooks/
mv dev-tools/hooks/pre-commit scripts/git/hooks/
mv dev-tools/hooks/pre-commit-new scripts/git/hooks/
mv dev-tools/hooks/install-hooks.sh scripts/git/  # Tool, not hook
rmdir dev-tools/hooks/

# Move examples to cold storage (contrib/)
mkdir -p contrib/examples/scripts/
mv dev-tools/examples/* contrib/examples/scripts/
rmdir dev-tools/examples/
```

### **Phase 4: Script Assessment & Migration**

```bash
# Move main linting engine with other linting scripts
mv dev-tools/scripts/lint-files.sh scripts/linting/

# Migrate development scripts
mv dev-tools/scripts/setup-dev-env.sh scripts/development/

# Migrate linting wrapper
mv dev-tools/scripts/dd-lint-wrapper.sh scripts/linting/
```

### **Phase 5: Final Structure Verification**

```bash
# Verify dev-tools/ is completely empty (or remove entirely)
ls -la dev-tools/
# Expected result: empty or rmdir dev-tools/

# Verify new locations
ls -la scripts/linting/          # All linting scripts including main engine
ls -la scripts/git/              # Git tools and hooks
ls -la contrib/examples/scripts/ # Examples and references
```

## Directory Concepts

### **contrib/ - "Cold Storage" Directory**

Le directory `contrib/` contient des éléments **utiles pour référence ou documentation** mais **pas nécessaires au
fonctionnement** du project de développement :

- **contrib/examples/scripts/** - Scripts d'exemple et de démonstration
- **contrib/docs/archived/** - Documentation archivée (si nécessaire)
- **contrib/tools/** - Outils expérimentaux ou de référence
- **contrib/templates/** - Templates de référence non-essentiels

**Principe** : Si c'est utile mais pas critique pour le fonctionnement quotidien → `contrib/`

### **scripts/git/ - Git-related Scripts Category**

Le directory `scripts/git/` regroupe tous les scripts liés à Git :

- **scripts/git/hooks/** - Git hooks (pre-commit, post-merge, etc.)
- **scripts/git/workflows/** - Scripts d'automatisation Git (si nécessaires)
- **scripts/git/utilities/** - Utilitaires Git (si nécessaires)

**Principe** : Organisation logique par catégorie fonctionnelle dans `scripts/`

## Final Architecture

### **Completely Empty dev-tools/ or Removed**

```text
dev-tools/                    # ❌ Empty directory (can be removed)
# OR
# dev-tools/ directory removed entirely
```

### **New Organized Locations**

```text
scripts/linting/              # ✅ ALL linting scripts together
├── lint-files.sh             # Main linting engine (moved from dev-tools)
├── smart-lint.sh             # AI-powered linting interface
├── analyze-patterns.sh       # Pattern recognition
├── manager_*.sh              # Plugin managers
└── dd-lint-wrapper.sh        # Linting wrapper

scripts/git/                  # ✅ Git-related scripts
├── install-hooks.sh          # Git tool (not a hook)
└── hooks/                    # Actual git hooks
    ├── pre-commit
    └── pre-commit-new

contrib/examples/scripts/     # ✅ "Cold storage" - useful references
├── cache-usage-examples.sh
└── linting-exceptions.md
```

### **Relocated Components**

- **docs/** - All documentation centralized
- **linting/config/** - Base linter configurations
- **scripts/development/** - Development workflow scripts
- **scripts/linting/** - ALL linting scripts including main engine
- **scripts/git/** - Git tools and hooks properly categorized
- **contrib/examples/scripts/** - Examples and references (cold storage)

## Path Reference Updates

### **Files Likely Needing Updates**

- Documentation files moved from dev-tools/docs/
- Any references to dev-tools/linters/ configurations
- Scripts referencing moved components
- Command files and workflow documentation

### **Update Commands**

```bash
# Find and update references to moved paths
grep -r "dev-tools/docs" . --exclude-dir=.git
grep -r "dev-tools/linters" . --exclude-dir=.git
grep -r "dev-tools/hooks" . --exclude-dir=.git
grep -r "dev-tools/examples" . --exclude-dir=.git
grep -r "dev-tools/scripts/lint-files.sh" . --exclude-dir=.git  # MAJOR UPDATE
grep -r "dev-tools/scripts/setup-dev-env.sh" . --exclude-dir=.git
grep -r "dev-tools/scripts/dd-lint-wrapper.sh" . --exclude-dir=.git
```

## Success Criteria

✅ **Empty dev-tools/** - Completely empty or removed  
✅ **Clean separation** - No mixed purposes, clear categorization ✅ **Central documentation** - All docs in ./docs/  
✅ **Proper configs** - Base linter configs in linting/config/  
✅ **Git hooks organized** - In scripts/git/hooks/ by function ✅ **Examples in cold storage** - In
contrib/examples/scripts/ ✅ **Working workflows** - All existing functionality preserved  
✅ **Updated references** - All paths point to new locations

## Validation

### **Structure Test**

```bash
# Verify final structure
find dev-tools/ -type f | wc -l     # Should be 0 (completely empty)
ls -la docs/ | wc -l                 # Should include moved docs
ls -la linting/config/ | wc -l       # Should include base configs
ls -la scripts/git/hooks/ | wc -l    # Should include git hooks
ls -la contrib/examples/scripts/ | wc -l # Should include examples
```

### **Functionality Test**

```bash
# Test core workflows still work
scripts/linting/lint-files.sh --check README.md  # Moved from dev-tools
scripts/linting/smart-lint.sh stats
scripts/development/setup-dev-env.sh --help
scripts/git/install-hooks.sh --help
```

## Integration Notes

### **Command Updates Needed**

- Update `.claude/commands/dd/lint.md` if referencing moved scripts
- Update documentation examples
- Update development workflow guides

### **Makefile Updates**

- Update any Makefile targets referencing moved components
- Verify linting targets still function correctly

This task completes the dev-tools/ cleanup initiated by DD113, establishing the final clean architecture with proper
separation of concerns.
