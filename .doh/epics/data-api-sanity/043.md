---
number: 043
epic: 024
title: Refactor task flow scripts (next.sh, in-progress.sh, blocked.sh)
status: pending
created: 2025-09-02T11:30:00Z
target_version: 0.7.0
file_version: 0.1.0
---

# Task 043: Refactor Task Flow Scripts

## Scripts to Refactor (ALL become thin wrappers):
- `next.sh` → Wrapper calling `workflow_get_next()` 
- `in-progress.sh` → Wrapper calling `workflow_get_in_progress()`
- `blocked.sh` → Wrapper calling `workflow_get_blocked()`

## Library to Create:
- Create `workflow.sh` library with functions:
   - `workflow_get_next([epic])` - Get next available tasks
   - `workflow_get_in_progress([epic])` - Show in-progress tasks  
   - `workflow_get_blocked([epic])` - Show blocked tasks
   - `workflow_transition_status(task, new_status)` - Change task status

## Thin Wrapper Pattern:
Each script becomes equivalent to:
- `next.sh` ≡ `api.sh workflow get_next "$@"`
- `in-progress.sh` ≡ `api.sh workflow get_in_progress "$@"`  
- `blocked.sh` ≡ `api.sh workflow get_blocked "$@"`

All business logic moves to workflow.sh library functions.