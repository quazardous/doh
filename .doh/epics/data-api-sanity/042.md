---
number: 042
epic: 024
title: Refactor list and search scripts (epic-list.sh, prd-list.sh, search.sh)
status: pending
created: 2025-09-02T11:30:00Z
target_version: 0.7.0
file_version: 0.1.0
---

# Task 042: Refactor List and Search Scripts

## Scripts to Refactor (ALL become thin wrappers):
- `epic-list.sh` → Wrapper calling `epic_list()` from epic.sh library
- `prd-list.sh` → Wrapper calling `prd_list()` from prd.sh library  
- `search.sh` → Wrapper calling `search_run()` from search.sh library

## Libraries to Create/Update:
- Update `epic.sh` - Add `epic_list()` function
- Update `prd.sh` - Add `prd_list()` function
- Create `search.sh` library with functions:
   - `search_run()` - Main search function
   - `search_by_keyword()`
   - `search_by_status()` 
   - `search_by_epic()`
   - `search_in_content()`

## Thin Wrapper Pattern:
Each script becomes ~10-15 lines:
```bash
#!/bin/bash
# This entire script is equivalent to:
#   api.sh <library> <function> "$@"

source "$(dirname "${BASH_SOURCE[0]}")/lib/<library>.sh"
<library>_<function> "$@"
exit $?
```