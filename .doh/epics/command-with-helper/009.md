---
name: Implement task domain helper with decompose/status functions
number: 009
status: completed
created: 2025-09-04T06:34:21Z
updated: "2025-09-05T13:47:19+02:00"
github: [Will be updated when synced to GitHub]
epic: command-with-helper
depends_on: [001]
parallel: true
conflicts_with: []
file_version: 0.2.0
completion_notes: Added comprehensive update functionality with backward compatibility
---

# Task: Implement task domain helper with decompose/status functions

## Description
Create the task domain helper that handles task decomposition from epics and task status management.

## Acceptance Criteria
- [x] Task helper created at `.claude/scripts/doh/helper/task.sh`
- [x] Supports `helper.sh task decompose <epic_name>` for epic task creation
- [x] Supports `helper.sh task status <task_number>` for task status checks
- [x] Supports `helper.sh task update <task_number> <status>` for status updates (legacy)
- [x] **NEW: Supports `helper.sh task update <task_number> field:value [field:value...]`**
- [x] Uses frontmatter API for all markdown operations
- [x] Proper error handling and validation

## Technical Details
**IMPORTANT**: Read [docs/writing-good-scripts.md](docs/writing-good-scripts.md) for complete helper implementation patterns.
- Create `.claude/scripts/doh/helper/task/` directory
- Implement decompose.sh for epic to task breakdown
- Implement status.sh for task status management
- Implement update.sh for task status updates
- Use `./.claude/scripts/doh/api.sh frontmatter` for all frontmatter ops
- Use `./.claude/scripts/doh/api.sh task` for task operations
- Extract logic from existing task commands

## Dependencies
- [ ] Task 001: Helper infrastructure must be complete

## Effort Estimate
- Size: M
- Hours: 6-8
- Parallel: true (can run alongside other domain helpers)

## Definition of Done
- [x] Task helper scripts created
- [x] Can successfully decompose epics into tasks
- [x] Can manage task status effectively
- [x] **NEW: Can update task fields via `helper_task_update()` using `frontmatter_update_many()` with backward compatibility**
- [x] Uses frontmatter API exclusively
- [ ] Tests written and passing
- [ ] Code reviewed

## Update Functionality Examples (COMPLETED)
```bash
# Library API - Direct file operations
./.claude/scripts/doh/api.sh task update /path/to/task.md "status:completed" "assignee:john"

# Helper API - Entity-based operations  
./.claude/scripts/doh/helper.sh task update "042" "status:in_progress" "priority:high"

# Legacy backward compatibility (still supported)
./.claude/scripts/doh/helper.sh task update "042" "completed"

# Multi-field updates in one call
helper_task_update "015" "status:blocked" "blocking_reason:waiting for API" "due_date:2025-10-01"
```
