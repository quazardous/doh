---
name: Implement epic domain helper with create/parse functions
number: 003
status: completed
created: 2025-09-04T06:34:21Z
updated: 2025-09-04T06:34:21Z
github: [Will be updated when synced to GitHub]
epic: command-with-helper
depends_on: [001]
parallel: true
conflicts_with: []
file_version: 0.1.0
---

# Task: Implement epic domain helper with create/parse functions

## Description
Create the epic domain helper that handles epic creation from PRDs and other epic-related operations.

## Acceptance Criteria
- [x] Epic helper created at `.claude/scripts/doh/helper/epic.sh`
- [x] Supports `helper.sh epic parse <prd_name>` for PRD parsing
- [x] Supports `helper.sh epic create <name>` for new epics
- [x] **NEW: Supports `helper.sh epic update <name> field:value [field:value...]`**
- [x] Uses frontmatter API for all markdown operations
- [x] Proper error handling and validation

## Technical Details
**IMPORTANT**: Read [docs/writing-good-scripts.md](docs/writing-good-scripts.md) for complete helper implementation patterns and architecture.

- Create `helper/epic.sh` file containing normalized helper functions
- Implement `helper_epic_parse()` function for PRD to epic conversion  
- Implement `helper_epic_create()` function for new epic creation
- Create `helper/frontmatter.sh` with business logic functions:
  - `helper_frontmatter_create_epic()` - epic-specific frontmatter with proper numbering
  - `helper_frontmatter_create_task()` - task-specific frontmatter with proper numbering
  - `helper_frontmatter_create_prd()` - PRD-specific frontmatter
- Use helper functions for business logic, call APIs for basic operations
- Extract logic from existing epic commands  
- **IMPORTANT**: Epic numbering uses `./.claude/scripts/doh/api.sh numbering get_next "epic"` in helper functions

## Dependencies
- [ ] Task 001: Helper infrastructure must be complete

## Effort Estimate
- Size: M
- Hours: 6-8
- Parallel: true (can run alongside other domain helpers)

## Definition of Done
- [x] Epic helper scripts created
- [x] Can successfully parse PRDs to epics
- [x] **NEW: Can update epic fields via `helper_epic_update()` using `frontmatter_update_many()`**
- [x] Uses frontmatter API exclusively
- [ ] Tests written and passing
- [ ] Code reviewed

## Update Functionality Examples (COMPLETED)
```bash
# Library API - Direct file operations
./.claude/scripts/doh/api.sh epic update /path/to/epic.md "status:completed" "progress:100%"

# Helper API - Entity-based operations  
./.claude/scripts/doh/helper.sh epic update "my-epic" "status:active" "priority:high"

# Multi-field updates in one call
helper_epic_update "command-with-helper" "status:in_progress" "target_version:0.6.0" "assignee:claude"
```