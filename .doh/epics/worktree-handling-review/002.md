---
name: Command Flag Updates
status: open
created: 2025-08-31T06:51:25Z
updated: 2025-08-31T06:51:25Z
github: [Will be updated when synced to GitHub]
depends_on: [001]
parallel: false
conflicts_with: []
---

# Task: Command Flag Updates

## Description
Update all /doh commands to support --branch and --worktree flags, source the workspace library, and display workspace banners before execution. Focus on high-impact commands first (epic-start, issue-start, epic-sync).

## Acceptance Criteria
- [ ] All commands parse --branch and --worktree flags correctly
- [ ] Commands source workspace library at startup
- [ ] Workspace banner displays before any command execution
- [ ] Auto-detection logic works when no flag specified
- [ ] Existing behavior preserved as fallback

## Technical Details
- **Implementation approach**: Modify command entry points to include workspace handling
- **Priority commands to update**:
  1. `/doh:epic-start` - Critical for worktree creation
  2. `/doh:issue-start` - Most frequently used
  3. `/doh:epic-sync` - GitHub integration
  4. `/doh:epic-merge` - Completion workflow
  5. All other commands
- **Flag parsing approach**:
  ```bash
  MODE="auto"
  while [[ $# -gt 0 ]]; do
    case $1 in
      --branch) MODE="branch"; shift ;;
      --worktree) MODE="worktree"; shift ;;
      *) ARGS+=("$1"); shift ;;
    esac
  done
  ```

## Dependencies
- [ ] Task 001 must be complete (workspace library required)
- [ ] No external dependencies

## Effort Estimate
- Size: L
- Hours: 12 hours
- Parallel: false

## Definition of Done
- [ ] All /doh commands updated with flag support
- [ ] Workspace banners appear consistently
- [ ] Commands tested in both branch and worktree modes
- [ ] Auto-detection logic verified
- [ ] Backward compatibility maintained